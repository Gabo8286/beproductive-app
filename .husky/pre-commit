#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Fast feedback: Run lint-staged for file-specific checks first
echo "ğŸš€ Running fast file-specific validations..."
npx lint-staged || exit 1

# Run security audit (fast check)
echo "ğŸ”’ Running security audit..."
npm audit --audit-level=moderate || exit 1

# Comprehensive build validation (includes all FMEW checks)
echo "ğŸ—ï¸ Running comprehensive FMEW build validation..."
node scripts/validate-build.js || exit 1

echo "ğŸ‰ All pre-commit quality gates passed!"
echo "ğŸ’¡ FMEW Framework: Preventing build failures since commit time âœ¨"